	SPEAKER REG P0.0
	TONE 	REG R0
	MCOUNT 	REG R1
	TEMPO 	REG R2
	TIME 	REG R3

	ORG		0000H
	JMP		MAIN
	ORG		0050H
MAIN:
	MOV		TMOD,#0			；設定TIMER0,MODE0
START:
	MOV		MCOUNT, #0		；MCOUNT=0
	MOV		R4, #8			；R4=8
BEGIN:
	MOV		DPTR, #SCALE

	MOV		A, MCOUNT		；從SCALE 取得音調資料1
	MOVC	A, @A+DPTR
	MOV		TONE1, A
	INC		MCOUNT

	MOV		A, MCOUNT		；從SCALE 取得音調資料2
	MOVC	A, @A+DPTR
	MOV		TONE2, A
	INC		MCOUNT

	MOV		A, MCOUNT		；從SCALE 取得拍子資料
	MOVC	A, @A+DPTR
	MOV		TEMPO, A

	MOV		TH0, TONE1
	MOV		TL0, TONE2 
	ACALL	SOUND

	INC		MCOUNT
	DJNZ	R5, BEGIN
	JMP		START
SOUND:
	MOV		TIME, #2		；GENERATE 2 CYCLES
SOUND1:
	SETB	SPEAKER
	CALL	SDELAY
	CLR		SPEAKER
	CALL	SDELAY
	DJNZ	TIME, SOUND1
	DJNZ	TEMPO, SOUND
	RET
SDELAY:
	SETB	TR0
	JNB		TF0, $
	CLR		TF0
	CLR		TF0
	MOV		TL0, TONE2			；餘
	MOV		TH0, TONE1			；商
	RET
SCALE:
	DB		196,20,131
	DB		202,28,147
	DB		209,4,165
	DB		211,5,175
	DB		216,5,175
	DB		220,17,220
	DB		224,14,247
	DB		226,0,255
