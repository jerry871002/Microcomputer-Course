SPEAKER  EQU P0.0 
TONE1  EQU R0 
TONE2  EQU R1 
TEMPO  EQU R2 
TIME  EQU R3 
MCOUNT  EQU  R4 

 ORG 0000H 
 JMP MAIN 
 ORG 0050H 
MAIN: 
 	MOV TMOD,#0  
START: 

 	MOV MCOUNT,#0 
 	MOV R5,#8 
BEGIN: 
 	MOV DPTR,#SCALE 

  MOV A,MCOUNT 
  MOVC A,@A+DPTR 
 	MOV TONE1,A 
 	INC MCOUNT 

 	MOV A,MCOUNT 
 	MOVC A,@A+DPTR 
 	MOV TONE2,A 
 	INC MCOUNT 

 	MOV A,MCOUNT 
 	MOVC A,@A+DPTR 
 	MOV TEMPO,A 

 	MOV TH0,TONE1 
 	MOV TL0,TONE2  
 	ACALL SOUND 

 	INC MCOUNT 
 	DJNZ R5,BEGIN 
 	JMP START 
SOUND: 
 	MOV TIME,#2  
SOUND1: 
 	SETB SPEAKER 
 	CALL SDELAY 
 	CLR SPEAKER 
 	CALL SDELAY 
 	DJNZ TIME,SOUND1 
 	DJNZ TEMPO,SOUND 
 	RET 
SDELAY: 
 	SETB TR0 
 	JNB TF0,$ 
 	CLR TF0 
 	CLR TF0 
 	MOV TL0,TONE2 
 	MOV TH0,TONE1 
 	RET 
SCALE: 
 	DB 200,20,131 
 	DB 202,28,147 
 	DB 209,4,165 
 	DB 211,5,175 
 	DB 216,5,196 
 	DB 220,17,220 
 	DB 224,14,247 
END
