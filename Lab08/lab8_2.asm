	ORG 00H
	JMP START
	ORG 50H
START:
	MOV	DPTR,#TABLE
	MOV	R5,#40
	CALL	DELAY

	MOV	A,#00111000B
	CALL	COMMAND
	MOV	R5,#2
	CALL	DELAY

	MOV	A,#00001111B
	CALL	COMMAND
	MOV	R5,#2
	CALL	DELAY

	MOV	A,#00000001B
	CALL	COMMAND
	MOV	R5,#45
	CALL	DELAY

	MOV	A,#01000000B
	CALL	COMMAND
	MOV	R5,#2
	CALL	DELAY
AGAIN:
	CLR	A
	MOVC	A,@A+DPTR
	JZ	FIRST
	CALL	SENDDATA
	INC	DPTR
	JMP	AGAIN
FIRST:
        MOV A,#10000000B          
        CALL COMMAND           
                               
        MOV A,#00H             
        CALL SENDDATA                        
        MOV R5,#25                      
        CALL DELAY             
SECOND:
        MOV A,#10000000B        
        CALL COMMAND           
                                 
        MOV A,#01H              
        CALL SENDDATA             
       	MOV R5,#25             
       	CALL  DELAY         
        JMP FIRST            
COMMAND:
	MOV	P2,A
	MOV	P1,#00000100B
	MOV	P1,#00000000B
	MOV	R5,#2
	CALL	DELAY
	RET
SENDDATA:
	MOV	P2,A
	MOV	P1,#00000101B
	MOV	P1,#00000001B
	MOV	P1,#00000000B
	MOV	R5,#2
	CALL	DELAY
	RET
DELAY:
	MOV	R6,#240
DELAY1:
	MOV	R7,#255
DELAY2:
	DJNZ	R7,DELAY2
	DJNZ	R6,DELAY1
	DJNZ	R5,DELAY
	RET
TABLE:
	DB 00001110B
	DB 00001010B
	DB 00000100B
	DB 00011111B
	DB 00001000B

	DB 00010000B
	DB 00011110B
	DB 00010000B
	DB 00001110B
	DB 00001010B
	
	DB 00000100B
	DB 00011111B
	DB 00000010B
	DB 00000100B
	DB 00000011B
	DB 00000100B

	DB 00000000B
